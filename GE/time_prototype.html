<!-- Musedia   Copyright (C)   2017   Daniele Napolitano !-->

<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<button onClick="lel()">sas</button>
	<p id="out"></p>
<script>
	function lel()
	{
		var battute=5;		//nÂ° di battute
		tempi=[];					//vettore con tutti ti tempi delle note
		valori=[0.5,1,2];		//valori possibili(in ordine croma, semiminima, minima)
		for(var k=0; k<battute;k++)	//for delle battute
		{
			max=4;	//massimo valore(dipende dal tempo[es in 4/4 ci sono 4 battiti])
			sommaf=0; //somma finale
			somma=0;	//somma temporanea
			do       //generazione singolabattuta
			{
				somma=sommaf;
				random=Math.floor(Math.random() * 3);	//generazione dell'indice di valori[] in modo random
				somma+=valori[random];
				if(somma<=max)	//se la somma temporanea non supera il numero di battiti massimi, aggiorna somma finale
				{
					sommaf+=valori[random];
					tempi.push(valori[random]);
				}

			}while(sommaf!=max);
		}

		//testing stuff (doesen't even show well where batutes end)
		for(var i=0;i<tempi.length; i++)
		{
			if (i%4==0)
				document.getElementById("out").innerHTML+="||";
			document.getElementById("out").innerHTML+=tempi[i]+"-";

		}
	}
</script>
</body>
</html>
